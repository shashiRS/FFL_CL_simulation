/* $Id$ */
/*
******************************************************************************
**
**  PLEASE DO NOT EDIT THIS FILE!
**
******************************************************************************
**  PRIVATE_CAN.c
**  This file was automatically generated by CANiogen 2.4.3 for:
**
**  CarMaker - Version 6.0
**  Vehicle Dynamic Simulation Toolkit
**
**  IPG Automotive GmbH
**  Bannwaldallee 60             Phone  +49.721.98520.0
**  76185 Karlsruhe              Fax    +49.721.98520.99
**  Germany                      WWW    http://www.ipg.de
**
**  Created: 2022/04/26 08:44:58 (uib41902@IALN981W)
******************************************************************************
**
**  Simulated ECUs (all Rx- and cyclic Tx- CAN messages are handled):
**  =================================================================
**  - SalvatorX
**
**  Excluded ECUs (all Rx- and Tx- CAN messages are ignored):
**  =========================================================
**  - CAN2LIN_GW
**  - HFM
**  - IMU
**
**  Handled Tx messages for:
**  ========================
**  - ECU SalvatorX:
**    + CANandGWVersion (0x2f0)
**    + APHMIInGeneral1 (0x4a0)
**    + APHMIInSituationLeft (0x4a1)
**    + APHMIInSituationRight (0x4a2)
**    + APHMIInSituationFront (0x4a3)
**    + APHMIInSituationRear (0x4a4)
**    + APHMIInParkDistViewLow (0x4a6)
**    + PDCInfo (0x4a7)
**    + PDCFrontAndLeft (0x4a8)
**    + PDCRearAndRight (0x4a9)
**    + APHMIInParkDistViewHigh4 (0x4aa)
**    + APHMIInGeneral2 (0x4ab)
**    + TONHInfo (0x4af)
**    + WHPInfo (0x4ff)
**
**  Handled Rx messages from:
**  =========================
**  - ECU AP_HMI:
**    + APHMIOut1 (0x4a5)
**    + APHMIOut2 (0x4ac)
**    + APHMIOut3 (0x4ad)
**    + APHMIOut4 (0x4ae)
**
******************************************************************************
*/

#if defined(DSPACE)
# include <ipgrt.h>
# include <dsio.h>
#endif

#if defined(XENO) || defined(LVRT)
# define _ISOC99_SOURCE 1
# include <math.h>
# include <string.h>
# include <mio.h>
#endif
#if defined(LVRT)
# include <nio.h>
#endif

#include <MathUtils.h>
#include <DataDict.h>
#include <Log.h>

#include "PRIVATE_CAN_User.h"
#include "PRIVATE_CAN.h"


/* Signal states */
int PRIVATE_CAN_SigStates[PRIVATE_CAN_SState_nStates];


/* I/O vector for CAN communication */
tPRIVATE_CANVec     PRIVATE_CAN;
tPRIVATE_CANTimings PRIVATE_CAN_Timings;


/* Interface functions for reception and transmission of CAN messages */
int (*PRIVATE_CAN_CAN_Recv)   (int Slot, int Channel, struct CAN_Msg   *Msg);
int (*PRIVATE_CAN_CAN_RecvFD) (int Slot, int Channel, struct CANFD_Msg *Msg);
int (*PRIVATE_CAN_CAN_Send)   (int Slot, int Channel, struct CAN_Msg   *Msg);
int (*PRIVATE_CAN_CAN_SendFD) (int Slot, int Channel, struct CANFD_Msg *Msg);


/* Hook functions for Rx- and Tx messages */
int (*PRIVATE_CAN_RxHook)   (struct CAN_Msg   *Msg, const unsigned int CycleNo, int Part);
int (*PRIVATE_CAN_RxHookFD) (struct CANFD_Msg *Msg, const unsigned int CycleNo, int Part);
int (*PRIVATE_CAN_TxHook)   (struct CAN_Msg   *Msg, const unsigned int CycleNo, int Part);
int (*PRIVATE_CAN_TxHookFD) (struct CANFD_Msg *Msg, const unsigned int CycleNo, int Part);


typedef union
{
    CAN_Msg   Msg;
    CANFD_Msg MsgFD;
} PRIVATE_CAN_Msg;


int PRIVATE_CAN_MType;
int PRIVATE_CAN_MTypeChecked;


#if defined(DSPACE) || defined(LVRT)
static int
PRIVATE_CAN_CANRecvFD_Dummy(
    int Slot,
    int Channel,
    struct CANFD_Msg *Msg)
{
    return -1;
}


static int
PRIVATE_CAN_CANSendFD_Dummy(
    int Slot,
    int Channel,
    struct CANFD_Msg *Msg)
{
    return -1;
}
#endif


/*
** PRIVATE_CAN_Init_First ()
**
** First, low level initialization of the module PRIVATE_CAN
** - fill all I/O data structures with 0
**
** call:
** - single call at program start (in function IO_Init_First())
** - no realtime conditions
*/

int
PRIVATE_CAN_Init_First(void)
{
    /* Init function pointers */
#if defined(XENO)
    PRIVATE_CAN_CAN_Recv   = MIO_M51_Recv;
    PRIVATE_CAN_CAN_RecvFD = MIO_M410_Recv;
    PRIVATE_CAN_CAN_Send   = MIO_M51_Send;
    PRIVATE_CAN_CAN_SendFD = MIO_M410_Send;
#elif defined(LVRT)
    PRIVATE_CAN_CAN_Recv   = NIO_CAN_Recv;
    PRIVATE_CAN_CAN_RecvFD = PRIVATE_CAN_CANRecvFD_Dummy;
    PRIVATE_CAN_CAN_Send   = NIO_CAN_Send;
    PRIVATE_CAN_CAN_SendFD = PRIVATE_CAN_CANSendFD_Dummy;
#elif defined(DSPACE)
    PRIVATE_CAN_CAN_Recv   = DSIO_CAN_Recv;
    PRIVATE_CAN_CAN_RecvFD = PRIVATE_CAN_CANRecvFD_Dummy;
    PRIVATE_CAN_CAN_Send   = DSIO_CAN_Send;
    PRIVATE_CAN_CAN_SendFD = PRIVATE_CAN_CANSendFD_Dummy;
#else
    PRIVATE_CAN_CAN_Recv   = NULL;
    PRIVATE_CAN_CAN_RecvFD = NULL;
    PRIVATE_CAN_CAN_Send   = NULL;
    PRIVATE_CAN_CAN_SendFD = NULL;
#endif
    PRIVATE_CAN_RxHook     = NULL;
    PRIVATE_CAN_RxHookFD   = NULL;
    PRIVATE_CAN_TxHook     = NULL;
    PRIVATE_CAN_TxHookFD   = NULL;

    PRIVATE_CAN_MType        = -1;
    PRIVATE_CAN_MTypeChecked = 0;

    /* Init I/O data structures */
    memset(&PRIVATE_CAN,         0, sizeof(PRIVATE_CAN));
    memset(&PRIVATE_CAN_Timings, 0, sizeof(PRIVATE_CAN_Timings));
    PRIVATE_CAN.DeclareQuants         = 1;
    PRIVATE_CAN.DeclareQuantsRaw      = 0;
    PRIVATE_CAN.DeclareQuantsState    = 0;
    PRIVATE_CAN_Timings.DeclareQuants = 1;
    PRIVATE_CAN_SigStates[PRIVATE_CAN_SState_None]        = PRIVATE_CAN_SState_None;
    PRIVATE_CAN_SigStates[PRIVATE_CAN_SState_Valid]       = PRIVATE_CAN_SState_Valid;
    PRIVATE_CAN_SigStates[PRIVATE_CAN_SState_Invalid]     = PRIVATE_CAN_SState_Invalid;
    PRIVATE_CAN_SigStates[PRIVATE_CAN_SState_Unavailable] = PRIVATE_CAN_SState_Unavailable;
    PRIVATE_CAN_SigStates[PRIVATE_CAN_SState_Undefined]   = PRIVATE_CAN_SState_Undefined;
    PRIVATE_CAN_SigStates[PRIVATE_CAN_SState_Error]       = PRIVATE_CAN_SState_Error;

    /* Call PRIVATE_CAN_User_Init_First() of User */
    return PRIVATE_CAN_User_Init_First();
}


/*
** PRIVATE_CAN_Init ()
**
** CANdb initialisation
** - I/O data structures
** - adds variables to data dictionary
**
** call:
** - single call at program start
** - no realtime conditions
*/

int
PRIVATE_CAN_Init(void)
{
    /* Check recv function for CAN messages */
    if ((PRIVATE_CAN_CAN_Recv == NULL)
        && (PRIVATE_CAN_CAN_RecvFD == NULL)) {
	LogErrF(EC_Init,
	    "PRIVATE_CAN: don't know how to receive CAN messages");
	return -1;
    }

    /* Check send function for CAN messages */
    if ((PRIVATE_CAN_CAN_Send == NULL)
        && (PRIVATE_CAN_CAN_SendFD == NULL)) {
	LogErrF(EC_Init,
	    "PRIVATE_CAN: don't know how to send CAN messages");
	return -1;
    }

    /* Call PRIVATE_CAN_User_Init() of User */
    return PRIVATE_CAN_User_Init();
}


int
PRIVATE_CAN_RecvData(
    unsigned int  MsgId,
    unsigned int  DLC,
    unsigned char *Data)
{
    switch (MsgId) {
    /* ECU AP_HMI */
    case PRIVATE_CAN_APHMIOut1_ID: {	/* CAN Msg 0x4a5 (APHMIOut1) */
	PRIVATE_CAN.AP_HMI.APHMIOut1_DLC = DLC;
	PRIVATE_CAN_APHMIOut1_Alive_APHMIOut1_GetV            (Data, &PRIVATE_CAN.AP_HMI.APHMIOut1.Alive_APHMIOut1);
	PRIVATE_CAN_APHMIOut1_APHMIOutBatteryLevelRem_GetV    (Data, &PRIVATE_CAN.AP_HMI.APHMIOut1.APHMIOutBatteryLevelRem);
	PRIVATE_CAN_APHMIOut1_APHMIOutBlindSpotActivated_GetV  (Data, &PRIVATE_CAN.AP_HMI.APHMIOut1.APHMIOutBlindSpotActivated);
	PRIVATE_CAN_APHMIOut1_APHMIOutScreenHU_GetV           (Data, &PRIVATE_CAN.AP_HMI.APHMIOut1.APHMIOutScreenHU);
	PRIVATE_CAN_APHMIOut1_APHMIOutScreenRem_GetV          (Data, &PRIVATE_CAN.AP_HMI.APHMIOut1.APHMIOutScreenRem);
	PRIVATE_CAN_APHMIOut1_APHMIOutUserActionHU_GetV       (Data, &PRIVATE_CAN.AP_HMI.APHMIOut1.APHMIOutUserActionHU);
	PRIVATE_CAN_APHMIOut1_APHMIOutUserActionHUCounter_GetV (Data, &PRIVATE_CAN.AP_HMI.APHMIOut1.APHMIOutUserActionHUCounter);
	PRIVATE_CAN_APHMIOut1_APHMIOutUserActionRem_GetV      (Data, &PRIVATE_CAN.AP_HMI.APHMIOut1.APHMIOutUserActionRem);
	PRIVATE_CAN_APHMIOut1_APHMIOutUserActionRemCounter_GetV(Data, &PRIVATE_CAN.AP_HMI.APHMIOut1.APHMIOutUserActionRemCounter);
	PRIVATE_CAN_APHMIOut1_APHMIOutUserSVScreenRequest_GetV(Data, &PRIVATE_CAN.AP_HMI.APHMIOut1.APHMIOutUserSVScreenRequest);
	PRIVATE_CAN_APHMIOut1_CRC_APHMIOut1_GetV              (Data, &PRIVATE_CAN.AP_HMI.APHMIOut1.CRC_APHMIOut1);
	break;
    }
    case PRIVATE_CAN_APHMIOut2_ID: {	/* CAN Msg 0x4ac (APHMIOut2) */
	PRIVATE_CAN.AP_HMI.APHMIOut2_DLC = DLC;
	PRIVATE_CAN_APHMIOut2_Alive_APHMIOut2_GetV             (Data, &PRIVATE_CAN.AP_HMI.APHMIOut2.Alive_APHMIOut2);
	PRIVATE_CAN_APHMIOut2_APHMIOutBTDevConnected_GetV      (Data, &PRIVATE_CAN.AP_HMI.APHMIOut2.APHMIOutBTDevConnected);
	PRIVATE_CAN_APHMIOut2_APHMIOutBTDevPaired_GetV         (Data, &PRIVATE_CAN.AP_HMI.APHMIOut2.APHMIOutBTDevPaired);
	PRIVATE_CAN_APHMIOut2_APHMIOutRemAlive_GetV            (Data, &PRIVATE_CAN.AP_HMI.APHMIOut2.APHMIOutRemAlive);
	PRIVATE_CAN_APHMIOut2_APHMIOutRemDeadMansSwitchBtn_GetV(Data, &PRIVATE_CAN.AP_HMI.APHMIOut2.APHMIOutRemDeadMansSwitchBtn);
	PRIVATE_CAN_APHMIOut2_APHMIOutRemFingerPosX_GetV       (Data, &PRIVATE_CAN.AP_HMI.APHMIOut2.APHMIOutRemFingerPosX);
	PRIVATE_CAN_APHMIOut2_APHMIOutRemFingerPosY_GetV       (Data, &PRIVATE_CAN.AP_HMI.APHMIOut2.APHMIOutRemFingerPosY);
	PRIVATE_CAN_APHMIOut2_CRC_APHMIOut2_GetV               (Data, &PRIVATE_CAN.AP_HMI.APHMIOut2.CRC_APHMIOut2);
	break;
    }
    case PRIVATE_CAN_APHMIOut3_ID: {	/* CAN Msg 0x4ad (APHMIOut3) */
	PRIVATE_CAN.AP_HMI.APHMIOut3_DLC = DLC;
	PRIVATE_CAN_APHMIOut3_APHMIOutGesture_Code_GetV       (Data, &PRIVATE_CAN.AP_HMI.APHMIOut3.APHMIOutGesture_Code);
	PRIVATE_CAN_APHMIOut3_APHMIOutGesture_Counter_GetV    (Data, &PRIVATE_CAN.AP_HMI.APHMIOut3.APHMIOutGesture_Counter);
	PRIVATE_CAN_APHMIOut3_APHMIOutGesture_FingerCount_GetV(Data, &PRIVATE_CAN.AP_HMI.APHMIOut3.APHMIOutGesture_FingerCount);
	PRIVATE_CAN_APHMIOut3_APHMIOutGesture_XPos_GetV       (Data, &PRIVATE_CAN.AP_HMI.APHMIOut3.APHMIOutGesture_XPos);
	PRIVATE_CAN_APHMIOut3_APHMIOutGesture_YPos_GetV       (Data, &PRIVATE_CAN.AP_HMI.APHMIOut3.APHMIOutGesture_YPos);
	PRIVATE_CAN_APHMIOut3_CRC_APHMIOut3_GetV              (Data, &PRIVATE_CAN.AP_HMI.APHMIOut3.CRC_APHMIOut3);
	break;
    }
    case PRIVATE_CAN_APHMIOut4_ID: {	/* CAN Msg 0x4ae (APHMIOut4) */
	PRIVATE_CAN.AP_HMI.APHMIOut4_DLC = DLC;
	PRIVATE_CAN_APHMIOut4_APHMIOutRemScreenResX_GetV(Data, &PRIVATE_CAN.AP_HMI.APHMIOut4.APHMIOutRemScreenResX);
	PRIVATE_CAN_APHMIOut4_APHMIOutRemScreenResY_GetV(Data, &PRIVATE_CAN.AP_HMI.APHMIOut4.APHMIOutRemScreenResY);
	break;
    }

    default:
	return -1;
    }

    return 0;
}


int
PRIVATE_CAN_Recv(
    struct CAN_Msg *Msg,
    const unsigned int CycleNo)
{
    unsigned int MsgId = Msg->MsgId|(Msg->FrameFmt<<31);

    if (PRIVATE_CAN_RxHook != NULL
        && PRIVATE_CAN_RxHook(Msg, CycleNo, PRIVATE_CAN_PRE_DECODE) < 0)
	return 1;

    PRIVATE_CAN_RecvData(MsgId, Msg->FrameLen, Msg->Data);

    if (PRIVATE_CAN_RxHook != NULL)
	PRIVATE_CAN_RxHook(Msg, CycleNo, PRIVATE_CAN_POST_DECODE);

    return 0;
}


int
PRIVATE_CAN_RecvFD(
    struct CANFD_Msg *Msg,
    const unsigned int CycleNo)
{
    unsigned int MsgId = Msg->MsgId|(Msg->IDE<<31);

    if (PRIVATE_CAN_RxHookFD != NULL
        && PRIVATE_CAN_RxHookFD(Msg, CycleNo, PRIVATE_CAN_PRE_DECODE) < 0)
	return 1;

    PRIVATE_CAN_RecvData(MsgId, Msg->DLC, Msg->Data);

    if (PRIVATE_CAN_RxHookFD != NULL)
	PRIVATE_CAN_RxHookFD(Msg, CycleNo, PRIVATE_CAN_POST_DECODE);

    return 0;
}


void
PRIVATE_CAN_RecvLoop(
    int                Slot,
    int                Channel,
    const unsigned int CycleNo)
{
#if defined(XENO)
    if (!PRIVATE_CAN_MTypeChecked) {
	PRIVATE_CAN_MTypeChecked = 1;
	int Type = MIO_GetModuleType(Slot);
	if ((PRIVATE_CAN_MType == 410) && (Type != 410)) {
	    LogErrF(EC_General, "PRIVATE_CAN: Wrong module type (%d) installed.", Type);
	    return;
	}
    }
#endif
    PRIVATE_CAN_Msg uMsg;

    if (PRIVATE_CAN_MType == 410) {
	int res;
	do {
	    if ((res = PRIVATE_CAN_CAN_RecvFD(
			    Slot,
			    Channel,
			    &uMsg.MsgFD)) >= 0)
		PRIVATE_CAN_RecvFD(&uMsg.MsgFD, CycleNo);
	} while (res > 0);
    } else {
	while (PRIVATE_CAN_CAN_Recv(Slot, Channel, &uMsg.Msg) == 0)
	    PRIVATE_CAN_Recv(&uMsg.Msg, CycleNo);
    }
}


int
PRIVATE_CAN_Send(
    int                Slot,
    int                Channel,
    const unsigned int CycleNo)
{
#if defined(XENO)
    if (!PRIVATE_CAN_MTypeChecked) {
	PRIVATE_CAN_MTypeChecked = 1;
	int Type = MIO_GetModuleType(Slot);
	if ((PRIVATE_CAN_MType == 410) && (Type != 410)) {
	    LogErrF(EC_General, "PRIVATE_CAN: Wrong module type (%d) installed.", Type);
	    return -1;
	}
    }
#endif

    /* ECU SalvatorX */
    /* CAN Msg 0x2f0 (CANandGWVersion) */
    if (PRIVATE_CAN_Timings.SalvatorX.CANandGWVersion.SendPeriod > 0
        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.CANandGWVersion.SendPeriod
	 == PRIVATE_CAN_Timings.SalvatorX.CANandGWVersion.SendDistrib)) {
	PRIVATE_CAN_SendMsg(Slot, Channel, CycleNo, PRIVATE_CAN_CANandGWVersion_ID);
    }
    /* CAN Msg 0x4a0 (APHMIInGeneral1) */
    if (PRIVATE_CAN_Timings.SalvatorX.APHMIInGeneral1.SendPeriod > 0
        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.APHMIInGeneral1.SendPeriod
	 == PRIVATE_CAN_Timings.SalvatorX.APHMIInGeneral1.SendDistrib)) {
	PRIVATE_CAN_SendMsg(Slot, Channel, CycleNo, PRIVATE_CAN_APHMIInGeneral1_ID);
    }
    /* CAN Msg 0x4a1 (APHMIInSituationLeft) */
    if (PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationLeft.SendPeriod > 0
        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationLeft.SendPeriod
	 == PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationLeft.SendDistrib)) {
	PRIVATE_CAN_SendMsg(Slot, Channel, CycleNo, PRIVATE_CAN_APHMIInSituationLeft_ID);
    }
    /* CAN Msg 0x4a2 (APHMIInSituationRight) */
    if (PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationRight.SendPeriod > 0
        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationRight.SendPeriod
	 == PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationRight.SendDistrib)) {
	PRIVATE_CAN_SendMsg(Slot, Channel, CycleNo, PRIVATE_CAN_APHMIInSituationRight_ID);
    }
    /* CAN Msg 0x4a3 (APHMIInSituationFront) */
    if (PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationFront.SendPeriod > 0
        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationFront.SendPeriod
	 == PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationFront.SendDistrib)) {
	PRIVATE_CAN_SendMsg(Slot, Channel, CycleNo, PRIVATE_CAN_APHMIInSituationFront_ID);
    }
    /* CAN Msg 0x4a4 (APHMIInSituationRear) */
    if (PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationRear.SendPeriod > 0
        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationRear.SendPeriod
	 == PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationRear.SendDistrib)) {
	PRIVATE_CAN_SendMsg(Slot, Channel, CycleNo, PRIVATE_CAN_APHMIInSituationRear_ID);
    }
    /* CAN Msg 0x4a6 (APHMIInParkDistViewLow) */
    if (PRIVATE_CAN_Timings.SalvatorX.APHMIInParkDistViewLow.SendPeriod > 0
        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.APHMIInParkDistViewLow.SendPeriod
	 == PRIVATE_CAN_Timings.SalvatorX.APHMIInParkDistViewLow.SendDistrib)) {
	PRIVATE_CAN_SendMsg(Slot, Channel, CycleNo, PRIVATE_CAN_APHMIInParkDistViewLow_ID);
    }
    /* CAN Msg 0x4a7 (PDCInfo) */
    if (PRIVATE_CAN_Timings.SalvatorX.PDCInfo.SendPeriod > 0
        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.PDCInfo.SendPeriod
	 == PRIVATE_CAN_Timings.SalvatorX.PDCInfo.SendDistrib)) {
	PRIVATE_CAN_SendMsg(Slot, Channel, CycleNo, PRIVATE_CAN_PDCInfo_ID);
    }
    /* CAN Msg 0x4a8 (PDCFrontAndLeft) */
    if (PRIVATE_CAN_Timings.SalvatorX.PDCFrontAndLeft.SendPeriod > 0
        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.PDCFrontAndLeft.SendPeriod
	 == PRIVATE_CAN_Timings.SalvatorX.PDCFrontAndLeft.SendDistrib)) {
	PRIVATE_CAN_SendMsg(Slot, Channel, CycleNo, PRIVATE_CAN_PDCFrontAndLeft_ID);
    }
    /* CAN Msg 0x4a9 (PDCRearAndRight) */
    if (PRIVATE_CAN_Timings.SalvatorX.PDCRearAndRight.SendPeriod > 0
        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.PDCRearAndRight.SendPeriod
	 == PRIVATE_CAN_Timings.SalvatorX.PDCRearAndRight.SendDistrib)) {
	PRIVATE_CAN_SendMsg(Slot, Channel, CycleNo, PRIVATE_CAN_PDCRearAndRight_ID);
    }
    /* CAN Msg 0x4aa (APHMIInParkDistViewHigh4) */
    if (PRIVATE_CAN_Timings.SalvatorX.APHMIInParkDistViewHigh4.SendPeriod > 0
        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.APHMIInParkDistViewHigh4.SendPeriod
	 == PRIVATE_CAN_Timings.SalvatorX.APHMIInParkDistViewHigh4.SendDistrib)) {
	PRIVATE_CAN_SendMsg(Slot, Channel, CycleNo, PRIVATE_CAN_APHMIInParkDistViewHigh4_ID);
    }
    /* CAN Msg 0x4ab (APHMIInGeneral2) */
    if (PRIVATE_CAN_Timings.SalvatorX.APHMIInGeneral2.SendPeriod > 0
        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.APHMIInGeneral2.SendPeriod
	 == PRIVATE_CAN_Timings.SalvatorX.APHMIInGeneral2.SendDistrib)) {
	PRIVATE_CAN_SendMsg(Slot, Channel, CycleNo, PRIVATE_CAN_APHMIInGeneral2_ID);
    }
    /* CAN Msg 0x4af (TONHInfo) */
    if (PRIVATE_CAN_Timings.SalvatorX.TONHInfo.SendPeriod > 0
        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.TONHInfo.SendPeriod
	 == PRIVATE_CAN_Timings.SalvatorX.TONHInfo.SendDistrib)) {
	PRIVATE_CAN_SendMsg(Slot, Channel, CycleNo, PRIVATE_CAN_TONHInfo_ID);
    }
    /* CAN Msg 0x4ff (WHPInfo) */
    if (PRIVATE_CAN_Timings.SalvatorX.WHPInfo.SendPeriod > 0
        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.WHPInfo.SendPeriod
	 == PRIVATE_CAN_Timings.SalvatorX.WHPInfo.SendDistrib)) {
	PRIVATE_CAN_SendMsg(Slot, Channel, CycleNo, PRIVATE_CAN_WHPInfo_ID);
    }

    return 0;
}


int
PRIVATE_CAN_ReadyToSend(
    int                MsgId,
    const unsigned int CycleNo)
{
    switch (MsgId) {
    /* ECU SalvatorX */
    case PRIVATE_CAN_CANandGWVersion_ID:	/* CAN Msg 0x2f0 (CANandGWVersion) */
	return (PRIVATE_CAN_Timings.SalvatorX.CANandGWVersion.SendPeriod > 0
	        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.CANandGWVersion.SendPeriod
		 == PRIVATE_CAN_Timings.SalvatorX.CANandGWVersion.SendDistrib));
    case PRIVATE_CAN_APHMIInGeneral1_ID:	/* CAN Msg 0x4a0 (APHMIInGeneral1) */
	return (PRIVATE_CAN_Timings.SalvatorX.APHMIInGeneral1.SendPeriod > 0
	        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.APHMIInGeneral1.SendPeriod
		 == PRIVATE_CAN_Timings.SalvatorX.APHMIInGeneral1.SendDistrib));
    case PRIVATE_CAN_APHMIInSituationLeft_ID:	/* CAN Msg 0x4a1 (APHMIInSituationLeft) */
	return (PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationLeft.SendPeriod > 0
	        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationLeft.SendPeriod
		 == PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationLeft.SendDistrib));
    case PRIVATE_CAN_APHMIInSituationRight_ID:	/* CAN Msg 0x4a2 (APHMIInSituationRight) */
	return (PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationRight.SendPeriod > 0
	        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationRight.SendPeriod
		 == PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationRight.SendDistrib));
    case PRIVATE_CAN_APHMIInSituationFront_ID:	/* CAN Msg 0x4a3 (APHMIInSituationFront) */
	return (PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationFront.SendPeriod > 0
	        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationFront.SendPeriod
		 == PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationFront.SendDistrib));
    case PRIVATE_CAN_APHMIInSituationRear_ID:	/* CAN Msg 0x4a4 (APHMIInSituationRear) */
	return (PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationRear.SendPeriod > 0
	        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationRear.SendPeriod
		 == PRIVATE_CAN_Timings.SalvatorX.APHMIInSituationRear.SendDistrib));
    case PRIVATE_CAN_APHMIInParkDistViewLow_ID:	/* CAN Msg 0x4a6 (APHMIInParkDistViewLow) */
	return (PRIVATE_CAN_Timings.SalvatorX.APHMIInParkDistViewLow.SendPeriod > 0
	        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.APHMIInParkDistViewLow.SendPeriod
		 == PRIVATE_CAN_Timings.SalvatorX.APHMIInParkDistViewLow.SendDistrib));
    case PRIVATE_CAN_PDCInfo_ID:	/* CAN Msg 0x4a7 (PDCInfo) */
	return (PRIVATE_CAN_Timings.SalvatorX.PDCInfo.SendPeriod > 0
	        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.PDCInfo.SendPeriod
		 == PRIVATE_CAN_Timings.SalvatorX.PDCInfo.SendDistrib));
    case PRIVATE_CAN_PDCFrontAndLeft_ID:	/* CAN Msg 0x4a8 (PDCFrontAndLeft) */
	return (PRIVATE_CAN_Timings.SalvatorX.PDCFrontAndLeft.SendPeriod > 0
	        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.PDCFrontAndLeft.SendPeriod
		 == PRIVATE_CAN_Timings.SalvatorX.PDCFrontAndLeft.SendDistrib));
    case PRIVATE_CAN_PDCRearAndRight_ID:	/* CAN Msg 0x4a9 (PDCRearAndRight) */
	return (PRIVATE_CAN_Timings.SalvatorX.PDCRearAndRight.SendPeriod > 0
	        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.PDCRearAndRight.SendPeriod
		 == PRIVATE_CAN_Timings.SalvatorX.PDCRearAndRight.SendDistrib));
    case PRIVATE_CAN_APHMIInParkDistViewHigh4_ID:	/* CAN Msg 0x4aa (APHMIInParkDistViewHigh4) */
	return (PRIVATE_CAN_Timings.SalvatorX.APHMIInParkDistViewHigh4.SendPeriod > 0
	        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.APHMIInParkDistViewHigh4.SendPeriod
		 == PRIVATE_CAN_Timings.SalvatorX.APHMIInParkDistViewHigh4.SendDistrib));
    case PRIVATE_CAN_APHMIInGeneral2_ID:	/* CAN Msg 0x4ab (APHMIInGeneral2) */
	return (PRIVATE_CAN_Timings.SalvatorX.APHMIInGeneral2.SendPeriod > 0
	        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.APHMIInGeneral2.SendPeriod
		 == PRIVATE_CAN_Timings.SalvatorX.APHMIInGeneral2.SendDistrib));
    case PRIVATE_CAN_TONHInfo_ID:	/* CAN Msg 0x4af (TONHInfo) */
	return (PRIVATE_CAN_Timings.SalvatorX.TONHInfo.SendPeriod > 0
	        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.TONHInfo.SendPeriod
		 == PRIVATE_CAN_Timings.SalvatorX.TONHInfo.SendDistrib));
    case PRIVATE_CAN_WHPInfo_ID:	/* CAN Msg 0x4ff (WHPInfo) */
	return (PRIVATE_CAN_Timings.SalvatorX.WHPInfo.SendPeriod > 0
	        && (CycleNo%PRIVATE_CAN_Timings.SalvatorX.WHPInfo.SendPeriod
		 == PRIVATE_CAN_Timings.SalvatorX.WHPInfo.SendDistrib));

    default:
	return -1;
    }

    return 0;
}


static inline unsigned char*
BuildMsg(
    PRIVATE_CAN_Msg *msg,
    unsigned int MsgId,
    unsigned int Fmt,
    unsigned int Type)
{
    memset(msg, 0, sizeof(PRIVATE_CAN_Msg));
    if (Type & 0x10) {
	/* CANFD Msg */
	msg->MsgFD.MsgId = MsgId;
	msg->MsgFD.IDE   = Fmt;
	msg->MsgFD.RTR   = 0;
	msg->MsgFD.DLC   = Type & 0x0F;
	msg->MsgFD.FDF   = (Type & 0x10) >> 4;
	msg->MsgFD.BRS   = (Type & 0x20) >> 5;
	msg->MsgFD.ESI   = 0;
	return msg->MsgFD.Data;
    } else {
	/* CAN Msg */
	msg->Msg.MsgId    = MsgId;
	msg->Msg.FrameFmt = Fmt;
	msg->Msg.RTR      = 0;
	msg->Msg.FrameLen = Type & 0x0F;
	return msg->Msg.Data;
    }
}


static inline int
TxHookMsg(
    PRIVATE_CAN_Msg *msg,
    int                IsFD,
    const unsigned int CycleNo,
    int                Part)
{
    if (IsFD && (PRIVATE_CAN_TxHookFD != NULL))
	return PRIVATE_CAN_TxHookFD(&msg->MsgFD, CycleNo, Part);
    else if ((IsFD == 0) && (PRIVATE_CAN_TxHook != NULL))
	return PRIVATE_CAN_TxHook(&msg->Msg, CycleNo, Part);

    return 0;
}


int
PRIVATE_CAN_SendMsg(
    int                Slot,
    int                Channel,
    const unsigned int CycleNo,
    int                MsgId)
{
#if defined(XENO)
    if (!PRIVATE_CAN_MTypeChecked) {
	PRIVATE_CAN_MTypeChecked = 1;
	int Type = MIO_GetModuleType(Slot);
	if ((PRIVATE_CAN_MType == 410) && (Type != 410)) {
	    LogErrF(EC_General, "PRIVATE_CAN: Wrong module type (%d) installed.", Type);
	    return -1;
	}
    }
#endif

    PRIVATE_CAN_Msg uMsg;

    switch (MsgId) {
    /* ECU SalvatorX */
    case PRIVATE_CAN_CANandGWVersion_ID: {	/* CAN Msg 0x2f0 (CANandGWVersion) */
	int IsFD = 0, BRS = 0;
	unsigned char *Data = BuildMsg(&uMsg, PRIVATE_CAN_CANandGWVersion_ID, 0,
	    ((BRS<<5) | (IsFD<<4) | (PRIVATE_CAN.SalvatorX.CANandGWVersion_DLC)));

	TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_PRE_ENCODE);
	PRIVATE_CAN_CANandGWVersion_APprivateCANVersionMayor_SetV(Data, PRIVATE_CAN.SalvatorX.CANandGWVersion.APprivateCANVersionMayor);
	PRIVATE_CAN_CANandGWVersion_APprivateCANVersionMinor_SetV(Data, PRIVATE_CAN.SalvatorX.CANandGWVersion.APprivateCANVersionMinor);
	PRIVATE_CAN_CANandGWVersion_CONTI_CANVersionMayor_SetV   (Data, PRIVATE_CAN.SalvatorX.CANandGWVersion.CONTI_CANVersionMayor);
	PRIVATE_CAN_CANandGWVersion_CONTI_CANVersionMinor_SetV   (Data, PRIVATE_CAN.SalvatorX.CANandGWVersion.CONTI_CANVersionMinor);
	if (TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_POST_ENCODE) >= 0) {
	    if (IsFD)
		return PRIVATE_CAN_CAN_SendFD(Slot, Channel, &uMsg.MsgFD);
	    else
		return PRIVATE_CAN_CAN_Send(Slot, Channel, &uMsg.Msg);
	}
	break;
    }
    case PRIVATE_CAN_APHMIInGeneral1_ID: {	/* CAN Msg 0x4a0 (APHMIInGeneral1) */
	int IsFD = 0, BRS = 0;
	unsigned char *Data = BuildMsg(&uMsg, PRIVATE_CAN_APHMIInGeneral1_ID, 0,
	    ((BRS<<5) | (IsFD<<4) | (PRIVATE_CAN.SalvatorX.APHMIInGeneral1_DLC)));

	TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_PRE_ENCODE);
	PRIVATE_CAN_APHMIInGeneral1_Alive_APHMIInGeneral1_SetV         (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.Alive_APHMIInGeneral1);
	PRIVATE_CAN_APHMIInGeneral1_APHMIGeneralAVGType_SetV           (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIGeneralAVGType);
	PRIVATE_CAN_APHMIInGeneral1_APHMIGeneralBtnBackwardPoss_SetV   (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIGeneralBtnBackwardPoss);
	PRIVATE_CAN_APHMIInGeneral1_APHMIGeneralBtnForwardPoss_SetV    (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIGeneralBtnForwardPoss);
	PRIVATE_CAN_APHMIInGeneral1_APHMIGeneralContinuePoss_SetV      (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIGeneralContinuePoss);
	PRIVATE_CAN_APHMIInGeneral1_APHMIGeneralCurrentGear_SetV       (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIGeneralCurrentGear);
	PRIVATE_CAN_APHMIInGeneral1_APHMIGeneralDistToStop_SetV        (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIGeneralDistToStop);
	PRIVATE_CAN_APHMIInGeneral1_APHMIGeneralDrivingDir_SetV        (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIGeneralDrivingDir);
	PRIVATE_CAN_APHMIInGeneral1_APHMIGeneralFullyAutomParkPoss_SetV(Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIGeneralFullyAutomParkPoss);
	PRIVATE_CAN_APHMIInGeneral1_APHMIGeneralMaxSpeed10Warning_SetV (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIGeneralMaxSpeed10Warning);
	PRIVATE_CAN_APHMIInGeneral1_APHMIGeneralMessage_SetV           (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIGeneralMessage);
	PRIVATE_CAN_APHMIInGeneral1_APHMIGeneralParkInOutFinished_SetV (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIGeneralParkInOutFinished);
	PRIVATE_CAN_APHMIInGeneral1_APHMIGeneralParkInPoss_SetV        (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIGeneralParkInPoss);
	PRIVATE_CAN_APHMIInGeneral1_APHMIGeneralParkOutPoss_SetV       (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIGeneralParkOutPoss);
	PRIVATE_CAN_APHMIInGeneral1_APHMIGeneralRemAppActive_SetV      (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIGeneralRemAppActive);
	PRIVATE_CAN_APHMIInGeneral1_APHMIGeneralRemCtrlPoss_SetV       (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIGeneralRemCtrlPoss);
	PRIVATE_CAN_APHMIInGeneral1_APHMIGeneralRemCtrlSelected_SetV   (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIGeneralRemCtrlSelected);
	PRIVATE_CAN_APHMIInGeneral1_APHMIGeneralRemKeyPoss_SetV        (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIGeneralRemKeyPoss);
	PRIVATE_CAN_APHMIInGeneral1_APHMIGeneralRemManPoss_SetV        (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIGeneralRemManPoss);
	PRIVATE_CAN_APHMIInGeneral1_APHMIGeneralRevAssistPoss_SetV     (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIGeneralRevAssistPoss);
	PRIVATE_CAN_APHMIInGeneral1_APHMIGeneralScreen_SetV            (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIGeneralScreen);
	PRIVATE_CAN_APHMIInGeneral1_APHMIGeneralSemiAutomParkPoss_SetV (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIGeneralSemiAutomParkPoss);
	PRIVATE_CAN_APHMIInGeneral1_APHMIGeneralSVPoss_SetV            (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIGeneralSVPoss);
	PRIVATE_CAN_APHMIInGeneral1_APHMIGeneralUndoPoss_SetV          (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIGeneralUndoPoss);
	PRIVATE_CAN_APHMIInGeneral1_APHMIParkingProcedureCtrlState_SetV(Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.APHMIParkingProcedureCtrlState);
	PRIVATE_CAN_APHMIInGeneral1_CRC_APHMIInGeneral1_SetV           (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral1.CRC_APHMIInGeneral1);
	if (TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_POST_ENCODE) >= 0) {
	    if (IsFD)
		return PRIVATE_CAN_CAN_SendFD(Slot, Channel, &uMsg.MsgFD);
	    else
		return PRIVATE_CAN_CAN_Send(Slot, Channel, &uMsg.Msg);
	}
	break;
    }
    case PRIVATE_CAN_APHMIInSituationLeft_ID: {	/* CAN Msg 0x4a1 (APHMIInSituationLeft) */
	int IsFD = 0, BRS = 0;
	unsigned char *Data = BuildMsg(&uMsg, PRIVATE_CAN_APHMIInSituationLeft_ID, 0,
	    ((BRS<<5) | (IsFD<<4) | (PRIVATE_CAN.SalvatorX.APHMIInSituationLeft_DLC)));

	TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_PRE_ENCODE);
	PRIVATE_CAN_APHMIInSituationLeft_Alive_APHMIInSituationLeft_SetV    (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationLeft.Alive_APHMIInSituationLeft);
	PRIVATE_CAN_APHMIInSituationLeft_CRC_APHMIInSituationLeft_SetV      (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationLeft.CRC_APHMIInSituationLeft);
	PRIVATE_CAN_APHMIInSituationLeft_ParkEgoRelativePosLeft_SetV        (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationLeft.ParkEgoRelativePosLeft);
	PRIVATE_CAN_APHMIInSituationLeft_ParkingSlotFreeLeft_SetV           (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationLeft.ParkingSlotFreeLeft);
	PRIVATE_CAN_APHMIInSituationLeft_ParkingSlotPossDirectionLeft_SetV  (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationLeft.ParkingSlotPossDirectionLeft);
	PRIVATE_CAN_APHMIInSituationLeft_ParkingSlotPossOrientationLeft_SetV(Data, PRIVATE_CAN.SalvatorX.APHMIInSituationLeft.ParkingSlotPossOrientationLeft);
	PRIVATE_CAN_APHMIInSituationLeft_ParkingSlotScannedLeft_SetV        (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationLeft.ParkingSlotScannedLeft);
	PRIVATE_CAN_APHMIInSituationLeft_ParkingSlotSelDirectionLeft_SetV   (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationLeft.ParkingSlotSelDirectionLeft);
	PRIVATE_CAN_APHMIInSituationLeft_ParkingSlotSelectedLeft_SetV       (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationLeft.ParkingSlotSelectedLeft);
	PRIVATE_CAN_APHMIInSituationLeft_ParkingSlotSelOrientationLeft_SetV (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationLeft.ParkingSlotSelOrientationLeft);
	PRIVATE_CAN_APHMIInSituationLeft_ParkSituationLeft_SetV             (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationLeft.ParkSituationLeft);
	if (TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_POST_ENCODE) >= 0) {
	    if (IsFD)
		return PRIVATE_CAN_CAN_SendFD(Slot, Channel, &uMsg.MsgFD);
	    else
		return PRIVATE_CAN_CAN_Send(Slot, Channel, &uMsg.Msg);
	}
	break;
    }
    case PRIVATE_CAN_APHMIInSituationRight_ID: {	/* CAN Msg 0x4a2 (APHMIInSituationRight) */
	int IsFD = 0, BRS = 0;
	unsigned char *Data = BuildMsg(&uMsg, PRIVATE_CAN_APHMIInSituationRight_ID, 0,
	    ((BRS<<5) | (IsFD<<4) | (PRIVATE_CAN.SalvatorX.APHMIInSituationRight_DLC)));

	TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_PRE_ENCODE);
	PRIVATE_CAN_APHMIInSituationRight_Alive_APHMIInSituationRight_SetV    (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationRight.Alive_APHMIInSituationRight);
	PRIVATE_CAN_APHMIInSituationRight_CRC_APHMIInSituationRight_SetV      (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationRight.CRC_APHMIInSituationRight);
	PRIVATE_CAN_APHMIInSituationRight_ParkEgoRelativePosRight_SetV        (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationRight.ParkEgoRelativePosRight);
	PRIVATE_CAN_APHMIInSituationRight_ParkingSlotFreeRight_SetV           (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationRight.ParkingSlotFreeRight);
	PRIVATE_CAN_APHMIInSituationRight_ParkingSlotPossDirectionRight_SetV  (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationRight.ParkingSlotPossDirectionRight);
	PRIVATE_CAN_APHMIInSituationRight_ParkingSlotPossOrientationRight_SetV(Data, PRIVATE_CAN.SalvatorX.APHMIInSituationRight.ParkingSlotPossOrientationRight);
	PRIVATE_CAN_APHMIInSituationRight_ParkingSlotScannedRight_SetV        (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationRight.ParkingSlotScannedRight);
	PRIVATE_CAN_APHMIInSituationRight_ParkingSlotSelDirectionRight_SetV   (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationRight.ParkingSlotSelDirectionRight);
	PRIVATE_CAN_APHMIInSituationRight_ParkingSlotSelectedRight_SetV       (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationRight.ParkingSlotSelectedRight);
	PRIVATE_CAN_APHMIInSituationRight_ParkingSlotSelOrientationRight_SetV (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationRight.ParkingSlotSelOrientationRight);
	PRIVATE_CAN_APHMIInSituationRight_ParkSituationRight_SetV             (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationRight.ParkSituationRight);
	if (TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_POST_ENCODE) >= 0) {
	    if (IsFD)
		return PRIVATE_CAN_CAN_SendFD(Slot, Channel, &uMsg.MsgFD);
	    else
		return PRIVATE_CAN_CAN_Send(Slot, Channel, &uMsg.Msg);
	}
	break;
    }
    case PRIVATE_CAN_APHMIInSituationFront_ID: {	/* CAN Msg 0x4a3 (APHMIInSituationFront) */
	int IsFD = 0, BRS = 0;
	unsigned char *Data = BuildMsg(&uMsg, PRIVATE_CAN_APHMIInSituationFront_ID, 0,
	    ((BRS<<5) | (IsFD<<4) | (PRIVATE_CAN.SalvatorX.APHMIInSituationFront_DLC)));

	TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_PRE_ENCODE);
	PRIVATE_CAN_APHMIInSituationFront_Alive_APHMIInSituationFront_SetV    (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationFront.Alive_APHMIInSituationFront);
	PRIVATE_CAN_APHMIInSituationFront_CRC_APHMIInSituationFront_SetV      (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationFront.CRC_APHMIInSituationFront);
	PRIVATE_CAN_APHMIInSituationFront_ParkingSlotFreeFront_SetV           (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationFront.ParkingSlotFreeFront);
	PRIVATE_CAN_APHMIInSituationFront_ParkingSlotPossDirectionFront_SetV  (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationFront.ParkingSlotPossDirectionFront);
	PRIVATE_CAN_APHMIInSituationFront_ParkingSlotPossOrientationFront_SetV(Data, PRIVATE_CAN.SalvatorX.APHMIInSituationFront.ParkingSlotPossOrientationFront);
	PRIVATE_CAN_APHMIInSituationFront_ParkingSlotScannedFront_SetV        (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationFront.ParkingSlotScannedFront);
	PRIVATE_CAN_APHMIInSituationFront_ParkingSlotSelDirectionFront_SetV   (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationFront.ParkingSlotSelDirectionFront);
	PRIVATE_CAN_APHMIInSituationFront_ParkingSlotSelectedFront_SetV       (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationFront.ParkingSlotSelectedFront);
	PRIVATE_CAN_APHMIInSituationFront_ParkingSlotSelOrientationFront_SetV (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationFront.ParkingSlotSelOrientationFront);
	PRIVATE_CAN_APHMIInSituationFront_ParkSituationFront_SetV             (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationFront.ParkSituationFront);
	if (TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_POST_ENCODE) >= 0) {
	    if (IsFD)
		return PRIVATE_CAN_CAN_SendFD(Slot, Channel, &uMsg.MsgFD);
	    else
		return PRIVATE_CAN_CAN_Send(Slot, Channel, &uMsg.Msg);
	}
	break;
    }
    case PRIVATE_CAN_APHMIInSituationRear_ID: {	/* CAN Msg 0x4a4 (APHMIInSituationRear) */
	int IsFD = 0, BRS = 0;
	unsigned char *Data = BuildMsg(&uMsg, PRIVATE_CAN_APHMIInSituationRear_ID, 0,
	    ((BRS<<5) | (IsFD<<4) | (PRIVATE_CAN.SalvatorX.APHMIInSituationRear_DLC)));

	TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_PRE_ENCODE);
	PRIVATE_CAN_APHMIInSituationRear_Alive_APHMIInSituationRear_SetV    (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationRear.Alive_APHMIInSituationRear);
	PRIVATE_CAN_APHMIInSituationRear_CRC_APHMIInSituationRear_SetV      (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationRear.CRC_APHMIInSituationRear);
	PRIVATE_CAN_APHMIInSituationRear_ParkingSlotFreeRear_SetV           (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationRear.ParkingSlotFreeRear);
	PRIVATE_CAN_APHMIInSituationRear_ParkingSlotPossDirectionRear_SetV  (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationRear.ParkingSlotPossDirectionRear);
	PRIVATE_CAN_APHMIInSituationRear_ParkingSlotPossOrientationRear_SetV(Data, PRIVATE_CAN.SalvatorX.APHMIInSituationRear.ParkingSlotPossOrientationRear);
	PRIVATE_CAN_APHMIInSituationRear_ParkingSlotScannedRear_SetV        (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationRear.ParkingSlotScannedRear);
	PRIVATE_CAN_APHMIInSituationRear_ParkingSlotSelDirectionRear_SetV   (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationRear.ParkingSlotSelDirectionRear);
	PRIVATE_CAN_APHMIInSituationRear_ParkingSlotSelectedRear_SetV       (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationRear.ParkingSlotSelectedRear);
	PRIVATE_CAN_APHMIInSituationRear_ParkingSlotSelOrientationRear_SetV (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationRear.ParkingSlotSelOrientationRear);
	PRIVATE_CAN_APHMIInSituationRear_ParkSituationRear_SetV             (Data, PRIVATE_CAN.SalvatorX.APHMIInSituationRear.ParkSituationRear);
	if (TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_POST_ENCODE) >= 0) {
	    if (IsFD)
		return PRIVATE_CAN_CAN_SendFD(Slot, Channel, &uMsg.MsgFD);
	    else
		return PRIVATE_CAN_CAN_Send(Slot, Channel, &uMsg.Msg);
	}
	break;
    }
    case PRIVATE_CAN_APHMIInParkDistViewLow_ID: {	/* CAN Msg 0x4a6 (APHMIInParkDistViewLow) */
	int IsFD = 0, BRS = 0;
	unsigned char *Data = BuildMsg(&uMsg, PRIVATE_CAN_APHMIInParkDistViewLow_ID, 0,
	    ((BRS<<5) | (IsFD<<4) | (PRIVATE_CAN.SalvatorX.APHMIInParkDistViewLow_DLC)));

	TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_PRE_ENCODE);
	PRIVATE_CAN_APHMIInParkDistViewLow_Alive_APHMIInParkDistViewLow_SetV(Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewLow.Alive_APHMIInParkDistViewLow);
	PRIVATE_CAN_APHMIInParkDistViewLow_CRC_APHMIInParkDistViewLow_SetV  (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewLow.CRC_APHMIInParkDistViewLow);
	PRIVATE_CAN_APHMIInParkDistViewLow_USSDistanceFrontCenterLeft_SetV  (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewLow.USSDistanceFrontCenterLeft);
	PRIVATE_CAN_APHMIInParkDistViewLow_USSDistanceFrontCenterRight_SetV (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewLow.USSDistanceFrontCenterRight);
	PRIVATE_CAN_APHMIInParkDistViewLow_USSDistanceFrontLeft_SetV        (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewLow.USSDistanceFrontLeft);
	PRIVATE_CAN_APHMIInParkDistViewLow_USSDistanceFrontRight_SetV       (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewLow.USSDistanceFrontRight);
	PRIVATE_CAN_APHMIInParkDistViewLow_USSDistanceRearCenterLeft_SetV   (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewLow.USSDistanceRearCenterLeft);
	PRIVATE_CAN_APHMIInParkDistViewLow_USSDistanceRearCenterRight_SetV  (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewLow.USSDistanceRearCenterRight);
	PRIVATE_CAN_APHMIInParkDistViewLow_USSDistanceRearLeft_SetV         (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewLow.USSDistanceRearLeft);
	PRIVATE_CAN_APHMIInParkDistViewLow_USSDistanceRearRight_SetV        (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewLow.USSDistanceRearRight);
	PRIVATE_CAN_APHMIInParkDistViewLow_USSDistanceSideFrontLeft_SetV    (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewLow.USSDistanceSideFrontLeft);
	PRIVATE_CAN_APHMIInParkDistViewLow_USSDistanceSideFrontRight_SetV   (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewLow.USSDistanceSideFrontRight);
	PRIVATE_CAN_APHMIInParkDistViewLow_USSDistanceSideRearLeft_SetV     (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewLow.USSDistanceSideRearLeft);
	PRIVATE_CAN_APHMIInParkDistViewLow_USSDistanceSideRearRight_SetV    (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewLow.USSDistanceSideRearRight);
	if (TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_POST_ENCODE) >= 0) {
	    if (IsFD)
		return PRIVATE_CAN_CAN_SendFD(Slot, Channel, &uMsg.MsgFD);
	    else
		return PRIVATE_CAN_CAN_Send(Slot, Channel, &uMsg.Msg);
	}
	break;
    }
    case PRIVATE_CAN_PDCInfo_ID: {	/* CAN Msg 0x4a7 (PDCInfo) */
	int IsFD = 0, BRS = 0;
	unsigned char *Data = BuildMsg(&uMsg, PRIVATE_CAN_PDCInfo_ID, 0,
	    ((BRS<<5) | (IsFD<<4) | (PRIVATE_CAN.SalvatorX.PDCInfo_DLC)));

	TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_PRE_ENCODE);
	PRIVATE_CAN_PDCInfo_DrivingTubeDirection_SetV  (Data, PRIVATE_CAN.SalvatorX.PDCInfo.DrivingTubeDirection);
	PRIVATE_CAN_PDCInfo_DrivingTubeDisplay_SetV    (Data, PRIVATE_CAN.SalvatorX.PDCInfo.DrivingTubeDisplay);
	PRIVATE_CAN_PDCInfo_DrivingTubeFrontRadius_SetV(Data, PRIVATE_CAN.SalvatorX.PDCInfo.DrivingTubeFrontRadius);
	PRIVATE_CAN_PDCInfo_DrivingTubeRearRadius_SetV (Data, PRIVATE_CAN.SalvatorX.PDCInfo.DrivingTubeRearRadius);
	PRIVATE_CAN_PDCInfo_PDCShutdownCause_SetV      (Data, PRIVATE_CAN.SalvatorX.PDCInfo.PDCShutdownCause);
	PRIVATE_CAN_PDCInfo_PDCSystemState_SetV        (Data, PRIVATE_CAN.SalvatorX.PDCInfo.PDCSystemState);
	if (TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_POST_ENCODE) >= 0) {
	    if (IsFD)
		return PRIVATE_CAN_CAN_SendFD(Slot, Channel, &uMsg.MsgFD);
	    else
		return PRIVATE_CAN_CAN_Send(Slot, Channel, &uMsg.Msg);
	}
	break;
    }
    case PRIVATE_CAN_PDCFrontAndLeft_ID: {	/* CAN Msg 0x4a8 (PDCFrontAndLeft) */
	int IsFD = 0, BRS = 0;
	unsigned char *Data = BuildMsg(&uMsg, PRIVATE_CAN_PDCFrontAndLeft_ID, 0,
	    ((BRS<<5) | (IsFD<<4) | (PRIVATE_CAN.SalvatorX.PDCFrontAndLeft_DLC)));

	TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_PRE_ENCODE);
	PRIVATE_CAN_PDCFrontAndLeft_PDCFront1CriticalLevel_SetV   (Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCFront1CriticalLevel);
	PRIVATE_CAN_PDCFrontAndLeft_PDCFront1IntersectDrvTube_SetV(Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCFront1IntersectDrvTube);
	PRIVATE_CAN_PDCFrontAndLeft_PDCFront1Slice_SetV           (Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCFront1Slice);
	PRIVATE_CAN_PDCFrontAndLeft_PDCFront2CriticalLevel_SetV   (Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCFront2CriticalLevel);
	PRIVATE_CAN_PDCFrontAndLeft_PDCFront2IntersectDrvTube_SetV(Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCFront2IntersectDrvTube);
	PRIVATE_CAN_PDCFrontAndLeft_PDCFront2Slice_SetV           (Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCFront2Slice);
	PRIVATE_CAN_PDCFrontAndLeft_PDCFront3CriticalLevel_SetV   (Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCFront3CriticalLevel);
	PRIVATE_CAN_PDCFrontAndLeft_PDCFront3IntersectDrvTube_SetV(Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCFront3IntersectDrvTube);
	PRIVATE_CAN_PDCFrontAndLeft_PDCFront3Slice_SetV           (Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCFront3Slice);
	PRIVATE_CAN_PDCFrontAndLeft_PDCFront4CriticalLevel_SetV   (Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCFront4CriticalLevel);
	PRIVATE_CAN_PDCFrontAndLeft_PDCFront4IntersectDrvTube_SetV(Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCFront4IntersectDrvTube);
	PRIVATE_CAN_PDCFrontAndLeft_PDCFront4Slice_SetV           (Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCFront4Slice);
	PRIVATE_CAN_PDCFrontAndLeft_PDCLeft1CriticalLevel_SetV    (Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCLeft1CriticalLevel);
	PRIVATE_CAN_PDCFrontAndLeft_PDCLeft1IntersectDrvTube_SetV (Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCLeft1IntersectDrvTube);
	PRIVATE_CAN_PDCFrontAndLeft_PDCLeft1Slice_SetV            (Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCLeft1Slice);
	PRIVATE_CAN_PDCFrontAndLeft_PDCLeft2CriticalLevel_SetV    (Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCLeft2CriticalLevel);
	PRIVATE_CAN_PDCFrontAndLeft_PDCLeft2IntersectDrvTube_SetV (Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCLeft2IntersectDrvTube);
	PRIVATE_CAN_PDCFrontAndLeft_PDCLeft2Slice_SetV            (Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCLeft2Slice);
	PRIVATE_CAN_PDCFrontAndLeft_PDCLeft3CriticalLevel_SetV    (Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCLeft3CriticalLevel);
	PRIVATE_CAN_PDCFrontAndLeft_PDCLeft3IntersectDrvTube_SetV (Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCLeft3IntersectDrvTube);
	PRIVATE_CAN_PDCFrontAndLeft_PDCLeft3Slice_SetV            (Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCLeft3Slice);
	PRIVATE_CAN_PDCFrontAndLeft_PDCLeft4CriticalLevel_SetV    (Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCLeft4CriticalLevel);
	PRIVATE_CAN_PDCFrontAndLeft_PDCLeft4IntersectDrvTube_SetV (Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCLeft4IntersectDrvTube);
	PRIVATE_CAN_PDCFrontAndLeft_PDCLeft4Slice_SetV            (Data, PRIVATE_CAN.SalvatorX.PDCFrontAndLeft.PDCLeft4Slice);
	if (TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_POST_ENCODE) >= 0) {
	    if (IsFD)
		return PRIVATE_CAN_CAN_SendFD(Slot, Channel, &uMsg.MsgFD);
	    else
		return PRIVATE_CAN_CAN_Send(Slot, Channel, &uMsg.Msg);
	}
	break;
    }
    case PRIVATE_CAN_PDCRearAndRight_ID: {	/* CAN Msg 0x4a9 (PDCRearAndRight) */
	int IsFD = 0, BRS = 0;
	unsigned char *Data = BuildMsg(&uMsg, PRIVATE_CAN_PDCRearAndRight_ID, 0,
	    ((BRS<<5) | (IsFD<<4) | (PRIVATE_CAN.SalvatorX.PDCRearAndRight_DLC)));

	TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_PRE_ENCODE);
	PRIVATE_CAN_PDCRearAndRight_PDCRear1CriticalLevel_SetV    (Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRear1CriticalLevel);
	PRIVATE_CAN_PDCRearAndRight_PDCRear1IntersectDrvTube_SetV (Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRear1IntersectDrvTube);
	PRIVATE_CAN_PDCRearAndRight_PDCRear1Slice_SetV            (Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRear1Slice);
	PRIVATE_CAN_PDCRearAndRight_PDCRear2CriticalLevel_SetV    (Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRear2CriticalLevel);
	PRIVATE_CAN_PDCRearAndRight_PDCRear2IntersectDrvTube_SetV (Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRear2IntersectDrvTube);
	PRIVATE_CAN_PDCRearAndRight_PDCRear2Slice_SetV            (Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRear2Slice);
	PRIVATE_CAN_PDCRearAndRight_PDCRear3CriticalLevel_SetV    (Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRear3CriticalLevel);
	PRIVATE_CAN_PDCRearAndRight_PDCRear3IntersectDrvTube_SetV (Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRear3IntersectDrvTube);
	PRIVATE_CAN_PDCRearAndRight_PDCRear3Slice_SetV            (Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRear3Slice);
	PRIVATE_CAN_PDCRearAndRight_PDCRear4CriticalLevel_SetV    (Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRear4CriticalLevel);
	PRIVATE_CAN_PDCRearAndRight_PDCRear4IntersectDrvTube_SetV (Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRear4IntersectDrvTube);
	PRIVATE_CAN_PDCRearAndRight_PDCRear4Slice_SetV            (Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRear4Slice);
	PRIVATE_CAN_PDCRearAndRight_PDCRight1CriticalLevel_SetV   (Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRight1CriticalLevel);
	PRIVATE_CAN_PDCRearAndRight_PDCRight1IntersectDrvTube_SetV(Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRight1IntersectDrvTube);
	PRIVATE_CAN_PDCRearAndRight_PDCRight1Slice_SetV           (Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRight1Slice);
	PRIVATE_CAN_PDCRearAndRight_PDCRight2CriticalLevel_SetV   (Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRight2CriticalLevel);
	PRIVATE_CAN_PDCRearAndRight_PDCRight2IntersectDrvTube_SetV(Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRight2IntersectDrvTube);
	PRIVATE_CAN_PDCRearAndRight_PDCRight2Slice_SetV           (Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRight2Slice);
	PRIVATE_CAN_PDCRearAndRight_PDCRight3CriticalLevel_SetV   (Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRight3CriticalLevel);
	PRIVATE_CAN_PDCRearAndRight_PDCRight3IntersectDrvTube_SetV(Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRight3IntersectDrvTube);
	PRIVATE_CAN_PDCRearAndRight_PDCRight3Slice_SetV           (Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRight3Slice);
	PRIVATE_CAN_PDCRearAndRight_PDCRight4CriticalLevel_SetV   (Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRight4CriticalLevel);
	PRIVATE_CAN_PDCRearAndRight_PDCRight4IntersectDrvTube_SetV(Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRight4IntersectDrvTube);
	PRIVATE_CAN_PDCRearAndRight_PDCRight4Slice_SetV           (Data, PRIVATE_CAN.SalvatorX.PDCRearAndRight.PDCRight4Slice);
	if (TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_POST_ENCODE) >= 0) {
	    if (IsFD)
		return PRIVATE_CAN_CAN_SendFD(Slot, Channel, &uMsg.MsgFD);
	    else
		return PRIVATE_CAN_CAN_Send(Slot, Channel, &uMsg.Msg);
	}
	break;
    }
    case PRIVATE_CAN_APHMIInParkDistViewHigh4_ID: {	/* CAN Msg 0x4aa (APHMIInParkDistViewHigh4) */
	int IsFD = 0, BRS = 0;
	unsigned char *Data = BuildMsg(&uMsg, PRIVATE_CAN_APHMIInParkDistViewHigh4_ID, 0,
	    ((BRS<<5) | (IsFD<<4) | (PRIVATE_CAN.SalvatorX.APHMIInParkDistViewHigh4_DLC)));

	TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_PRE_ENCODE);
	PRIVATE_CAN_APHMIInParkDistViewHigh4_Alive_APHMIInParkDistViewHigh4_SetV(Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewHigh4.Alive_APHMIInParkDistViewHigh4);
	PRIVATE_CAN_APHMIInParkDistViewHigh4_CRC_APHMIInParkDistViewHigh4_SetV  (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewHigh4.CRC_APHMIInParkDistViewHigh4);
	PRIVATE_CAN_APHMIInParkDistViewHigh4_ParkDistViewHigh31_SetV            (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewHigh4.ParkDistViewHigh31);
	PRIVATE_CAN_APHMIInParkDistViewHigh4_ParkDistViewHigh32_SetV            (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewHigh4.ParkDistViewHigh32);
	PRIVATE_CAN_APHMIInParkDistViewHigh4_ParkDistViewHigh33_SetV            (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewHigh4.ParkDistViewHigh33);
	PRIVATE_CAN_APHMIInParkDistViewHigh4_ParkDistViewHigh34_SetV            (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewHigh4.ParkDistViewHigh34);
	PRIVATE_CAN_APHMIInParkDistViewHigh4_ParkDistViewHigh35_SetV            (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewHigh4.ParkDistViewHigh35);
	PRIVATE_CAN_APHMIInParkDistViewHigh4_ParkDistViewHigh36_SetV            (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewHigh4.ParkDistViewHigh36);
	PRIVATE_CAN_APHMIInParkDistViewHigh4_ParkDistViewHigh37_SetV            (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewHigh4.ParkDistViewHigh37);
	PRIVATE_CAN_APHMIInParkDistViewHigh4_ParkDistViewHigh38_SetV            (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewHigh4.ParkDistViewHigh38);
	PRIVATE_CAN_APHMIInParkDistViewHigh4_ParkDistViewHigh39_SetV            (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewHigh4.ParkDistViewHigh39);
	PRIVATE_CAN_APHMIInParkDistViewHigh4_ParkDistViewHigh40_SetV            (Data, PRIVATE_CAN.SalvatorX.APHMIInParkDistViewHigh4.ParkDistViewHigh40);
	if (TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_POST_ENCODE) >= 0) {
	    if (IsFD)
		return PRIVATE_CAN_CAN_SendFD(Slot, Channel, &uMsg.MsgFD);
	    else
		return PRIVATE_CAN_CAN_Send(Slot, Channel, &uMsg.Msg);
	}
	break;
    }
    case PRIVATE_CAN_APHMIInGeneral2_ID: {	/* CAN Msg 0x4ab (APHMIInGeneral2) */
	int IsFD = 0, BRS = 0;
	unsigned char *Data = BuildMsg(&uMsg, PRIVATE_CAN_APHMIInGeneral2_ID, 0,
	    ((BRS<<5) | (IsFD<<4) | (PRIVATE_CAN.SalvatorX.APHMIInGeneral2_DLC)));

	TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_PRE_ENCODE);
	PRIVATE_CAN_APHMIInGeneral2_Alive_APHMIInGeneral2_SetV    (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral2.Alive_APHMIInGeneral2);
	PRIVATE_CAN_APHMIInGeneral2_APHMIGeneralMemParkPoss_SetV  (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral2.APHMIGeneralMemParkPoss);
	PRIVATE_CAN_APHMIInGeneral2_APHMIGeneralMessageRemote_SetV(Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral2.APHMIGeneralMessageRemote);
	PRIVATE_CAN_APHMIInGeneral2_APHMIGeneralRemModeActive_SetV(Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral2.APHMIGeneralRemModeActive);
	PRIVATE_CAN_APHMIInGeneral2_APHMIGeneralScreenRemote_SetV (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral2.APHMIGeneralScreenRemote);
	PRIVATE_CAN_APHMIInGeneral2_APHMIInAdjustmentButtons_SetV  (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral2.APHMIInAdjustmentButtons);
	PRIVATE_CAN_APHMIInGeneral2_APHMIInDisplayBackButton_SetV  (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral2.APHMIInDisplayBackButton);
	PRIVATE_CAN_APHMIInGeneral2_APHMIInGarageParkingState_SetV(Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral2.APHMIInGarageParkingState);
	PRIVATE_CAN_APHMIInGeneral2_APHMIInMemorizedPoseSlotId_SetV(Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral2.APHMIInMemorizedPoseSlotId);
	PRIVATE_CAN_APHMIInGeneral2_APHMIInMemorySlotsStatus_SetV  (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral2.APHMIInMemorySlotsStatus);
	PRIVATE_CAN_APHMIInGeneral2_APHMIInSlotUnreachReason_SetV  (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral2.APHMIInSlotUnreachReason);
	PRIVATE_CAN_APHMIInGeneral2_APHMIInStreamAvailable_SetV   (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral2.APHMIInStreamAvailable);
	PRIVATE_CAN_APHMIInGeneral2_APHMIInSVScrenResponse_SetV   (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral2.APHMIInSVScrenResponse);
	PRIVATE_CAN_APHMIInGeneral2_APHMIMemorizedPoseYaw_SetV    (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral2.APHMIMemorizedPoseYaw);
	PRIVATE_CAN_APHMIInGeneral2_APHMIMemorizedPoseYawSign_SetV(Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral2.APHMIMemorizedPoseYawSign);
	PRIVATE_CAN_APHMIInGeneral2_CRC_APHMIInGeneral2_SetV      (Data, PRIVATE_CAN.SalvatorX.APHMIInGeneral2.CRC_APHMIInGeneral2);
	if (TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_POST_ENCODE) >= 0) {
	    if (IsFD)
		return PRIVATE_CAN_CAN_SendFD(Slot, Channel, &uMsg.MsgFD);
	    else
		return PRIVATE_CAN_CAN_Send(Slot, Channel, &uMsg.Msg);
	}
	break;
    }
    case PRIVATE_CAN_TONHInfo_ID: {	/* CAN Msg 0x4af (TONHInfo) */
	int IsFD = 0, BRS = 0;
	unsigned char *Data = BuildMsg(&uMsg, PRIVATE_CAN_TONHInfo_ID, 0,
	    ((BRS<<5) | (IsFD<<4) | (PRIVATE_CAN.SalvatorX.TONHInfo_DLC)));

	TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_PRE_ENCODE);
	PRIVATE_CAN_TONHInfo_FrontSpeakerOn_SetV    (Data, PRIVATE_CAN.SalvatorX.TONHInfo.FrontSpeakerOn);
	PRIVATE_CAN_TONHInfo_FrontSpeakerPitch_SetV (Data, PRIVATE_CAN.SalvatorX.TONHInfo.FrontSpeakerPitch);
	PRIVATE_CAN_TONHInfo_FrontSpeakerVolume_SetV(Data, PRIVATE_CAN.SalvatorX.TONHInfo.FrontSpeakerVolume);
	PRIVATE_CAN_TONHInfo_RearSpeakerOn_SetV     (Data, PRIVATE_CAN.SalvatorX.TONHInfo.RearSpeakerOn);
	PRIVATE_CAN_TONHInfo_RearSpeakerPitch_SetV  (Data, PRIVATE_CAN.SalvatorX.TONHInfo.RearSpeakerPitch);
	PRIVATE_CAN_TONHInfo_RearSpeakerVolume_SetV (Data, PRIVATE_CAN.SalvatorX.TONHInfo.RearSpeakerVolume);
	if (TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_POST_ENCODE) >= 0) {
	    if (IsFD)
		return PRIVATE_CAN_CAN_SendFD(Slot, Channel, &uMsg.MsgFD);
	    else
		return PRIVATE_CAN_CAN_Send(Slot, Channel, &uMsg.Msg);
	}
	break;
    }
    case PRIVATE_CAN_WHPInfo_ID: {	/* CAN Msg 0x4ff (WHPInfo) */
	int IsFD = 0, BRS = 0;
	unsigned char *Data = BuildMsg(&uMsg, PRIVATE_CAN_WHPInfo_ID, 0,
	    ((BRS<<5) | (IsFD<<4) | (PRIVATE_CAN.SalvatorX.WHPInfo_DLC)));

	TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_PRE_ENCODE);
	PRIVATE_CAN_WHPInfo_WhlAbsAngleFL_SetV    (Data, PRIVATE_CAN.SalvatorX.WHPInfo.WhlAbsAngleFL);
	PRIVATE_CAN_WHPInfo_WhlAbsAngleFR_SetV    (Data, PRIVATE_CAN.SalvatorX.WHPInfo.WhlAbsAngleFR);
	PRIVATE_CAN_WHPInfo_WhlAbsAngleRL_SetV    (Data, PRIVATE_CAN.SalvatorX.WHPInfo.WhlAbsAngleRL);
	PRIVATE_CAN_WHPInfo_WhlAbsAngleRR_SetV    (Data, PRIVATE_CAN.SalvatorX.WHPInfo.WhlAbsAngleRR);
	PRIVATE_CAN_WHPInfo_WhlDirectionFL_SetV   (Data, PRIVATE_CAN.SalvatorX.WHPInfo.WhlDirectionFL);
	PRIVATE_CAN_WHPInfo_WhlDirectionFR_SetV   (Data, PRIVATE_CAN.SalvatorX.WHPInfo.WhlDirectionFR);
	PRIVATE_CAN_WHPInfo_WhlDirectionRL_SetV   (Data, PRIVATE_CAN.SalvatorX.WHPInfo.WhlDirectionRL);
	PRIVATE_CAN_WHPInfo_WhlDirectionRR_SetV   (Data, PRIVATE_CAN.SalvatorX.WHPInfo.WhlDirectionRR);
	PRIVATE_CAN_WHPInfo_WhlWarningLevelFL_SetV(Data, PRIVATE_CAN.SalvatorX.WHPInfo.WhlWarningLevelFL);
	PRIVATE_CAN_WHPInfo_WhlWarningLevelFR_SetV(Data, PRIVATE_CAN.SalvatorX.WHPInfo.WhlWarningLevelFR);
	PRIVATE_CAN_WHPInfo_WhlWarningLevelRL_SetV(Data, PRIVATE_CAN.SalvatorX.WHPInfo.WhlWarningLevelRL);
	PRIVATE_CAN_WHPInfo_WhlWarningLevelRR_SetV(Data, PRIVATE_CAN.SalvatorX.WHPInfo.WhlWarningLevelRR);
	PRIVATE_CAN_WHPInfo_WHPDisplayReq_SetV    (Data, PRIVATE_CAN.SalvatorX.WHPInfo.WHPDisplayReq);
	PRIVATE_CAN_WHPInfo_WHPState_SetV         (Data, PRIVATE_CAN.SalvatorX.WHPInfo.WHPState);
	if (TxHookMsg(&uMsg, IsFD, CycleNo, PRIVATE_CAN_POST_ENCODE) >= 0) {
	    if (IsFD)
		return PRIVATE_CAN_CAN_SendFD(Slot, Channel, &uMsg.MsgFD);
	    else
		return PRIVATE_CAN_CAN_Send(Slot, Channel, &uMsg.Msg);
	}
	break;
    }

    default:
	return -1;
    }

    return 0;
}
